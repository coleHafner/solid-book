<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Provisioning | The Big Incomplete Book of Dev</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../../../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../../../../book/project/setup/provisioning/ansible/index.html" />
    
    
    <link rel="prev" href="../../../../book/project/setup/architecture/runtime-environments/index.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../../../../gitbook/style.css">
    
    

        
    <div class="book" data-level="1.2" data-basepath="../../../.." data-revision="Mon Nov 23 2015 21:33:55 GMT-0800 (PST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../../../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="book/project/setup/index.html">
            
                
                    <a href="../../../../book/project/setup/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Setting up a project
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="book/project/setup/architecture/index.html">
            
                
                    <a href="../../../../book/project/setup/architecture/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Architecture
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="book/project/setup/architecture/scaffolding/index.html">
            
                
                    <a href="../../../../book/project/setup/architecture/scaffolding/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.1.</b>
                        
                        Scaffolding
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="book/project/setup/architecture/runtime-environments/index.html">
            
                
                    <a href="../../../../book/project/setup/architecture/runtime-environments/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.2.</b>
                        
                        Runtime Environments
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="book/project/setup/provisioning/index.html">
            
                
                    <a href="../../../../book/project/setup/provisioning/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Provisioning
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="book/project/setup/provisioning/ansible/index.html">
            
                
                    <a href="../../../../book/project/setup/provisioning/ansible/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.1.</b>
                        
                        Ansible Intro
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="book/project/setup/provisioning/ansible/playbooks/index.html">
            
                
                    <a href="../../../../book/project/setup/provisioning/ansible/playbooks/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.2.</b>
                        
                        Initial setup
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="book/project/setup/provisioning/ansible/roles/index.html">
            
                
                    <a href="../../../../book/project/setup/provisioning/ansible/roles/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.3.</b>
                        
                        Creating roles
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="book/project/workflow/index.html">
            
                
                    <a href="../../../../book/project/workflow/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Project Workflow
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="book/project/workflow/debugging/node/index.html">
            
                
                    <a href="../../../../book/project/workflow/debugging/node/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Debugging Node
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="book/project/workflow/debugging/php/index.html">
            
                
                    <a href="../../../../book/project/workflow/debugging/php/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Debugging PHP
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="book/project/workflow/concepts/index.html">
            
                
                    <a href="../../../../book/project/workflow/concepts/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Working with promises
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="book/project/beta-testing/index.html">
            
                
                    <a href="../../../../book/project/beta-testing/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Beta Testing
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="book/project/beta-testing/ios/testflight/index.html">
            
                
                    <a href="../../../../book/project/beta-testing/ios/testflight/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.1.</b>
                        
                        TestFlight-iOS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="book/project/beta-testing/android/testfairy/index.html">
            
                
                    <a href="../../../../book/project/beta-testing/android/testfairy/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.2.</b>
                        
                        TestFairy-Android
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="book/project/deployment/index.html">
            
                
                    <a href="../../../../book/project/deployment/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Deploying a project
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="general/misc/index.html">
            
                
                    <a href="../../../../general/misc/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Misc
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="general/error-handling/exponential-backoff/index.html">
            
                
                    <a href="../../../../general/error-handling/exponential-backoff/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Exponential Back Off
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="general/error-handling/javascript/index.html">
            
                
                    <a href="../../../../general/error-handling/javascript/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        JavaScript
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="general/file-upload/index.html">
            
                
                    <a href="../../../../general/file-upload/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        File Upload
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="general/profiling/index.html">
            
                
                    <a href="../../../../general/profiling/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Profiling
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="general/version-control/index.html">
            
                
                    <a href="../../../../general/version-control/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Version Control
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="general/security/index.html">
            
                
                    <a href="../../../../general/security/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Security
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="detail/elasticsearch/index.html">
            
                
                    <a href="../../../../detail/elasticsearch/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Elasticsearch
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="detail/fastcgi/index.html">
            
                
                    <a href="../../../../detail/fastcgi/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        FastCgi
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="detail/form/index.html">
            
                
                    <a href="../../../../detail/form/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                        Form
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="detail/git/gitflow/index.html">
            
                
                    <a href="../../../../detail/git/gitflow/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.10.</b>
                        
                        Gitflow
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="detail/git/hooks/index.html">
            
                
                    <a href="../../../../detail/git/hooks/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.11.</b>
                        
                        Hooks
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.12" data-path="detail/javascript/es6/index.html">
            
                
                    <a href="../../../../detail/javascript/es6/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.12.</b>
                        
                        es6
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.13" data-path="detail/mongo/users/index.html">
            
                
                    <a href="../../../../detail/mongo/users/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.13.</b>
                        
                        Users
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.14" data-path="detail/mysql/profiling/index.html">
            
                
                    <a href="../../../../detail/mysql/profiling/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.14.</b>
                        
                        Profiling
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.15" data-path="detail/mysql/users/index.html">
            
                
                    <a href="../../../../detail/mysql/users/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.15.</b>
                        
                        Users
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.16" data-path="detail/nginx/config/index.html">
            
                
                    <a href="../../../../detail/nginx/config/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.16.</b>
                        
                        Config
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.17" data-path="detail/nginx/fastcgi-cache/index.html">
            
                
                    <a href="../../../../detail/nginx/fastcgi-cache/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.17.</b>
                        
                        Fastcgi cache
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.18" data-path="detail/php/mysql-extension/index.html">
            
                
                    <a href="../../../../detail/php/mysql-extension/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.18.</b>
                        
                        Mysql extension
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.19" data-path="detail/shell/cli/index.html">
            
                
                    <a href="../../../../detail/shell/cli/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.19.</b>
                        
                        CLI
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.20" data-path="detail/shell/commands/index.html">
            
                
                    <a href="../../../../detail/shell/commands/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.20.</b>
                        
                        Commands
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../../../" >The Big Incomplete Book of Dev</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="provisioning">Provisioning</h1>
<p>For each project you have to setup local, staging, and production environments.</p>
<p>It is almost always useful to have a Vagrant environment ready to go for local dev.
In some cases you may choose to not use it - for example node apps with limited data
are often very easy to run locally, but it is very helpful to be able to setup things
like nginx and databases on a Vagrant machine, so that you can emulate the server
and not have to drastically change or break your own local environment.</p>
<p>Vagrant uses a headless instance of Virtualbox to setup a virtual server that is
hosted by your computer. Your computer is referred to as the host, and the virtual
machine is referred to as the guest.</p>
<p>Vagrant has many base boxes ready for use. It is best practive to use a Vagrant
base box - such as <code>ubuntu/trusty64</code> - and provision it to cusomtize the environment.
This is more transparent than the alternative of taking a base box, customizing it,
and then using the snapshot of the customization for deving. Having the provisioning
of a vanilla base box in version control makes what is on the box very transparent.</p>
<p>Vagrant allows multiple methods of provisioning. Some are Puppet, shell, and Ansible.
In our experience shell provisioning - while simplest to initially setup - is too
difficult to maintain in the long run. You end up having to put too many conditionals
in your shell script to make it work irrespective of the starting state of the box.
Also shell script usually becomes spaghetti code, and instead of thinking about the
state you want to server to be in you end up thinking about how to get the server there.</p>
<p>Puppet is very full featured, but many devs find the syntax and details daunting to learn.
I find the docs hard to navigate. You also have to install puppet on your servers.</p>
<p>We found Ansible to have the smallest learning curve and the easiest to use in
practice. The only server dependency for Ansible is SSH access to the server.
Locally you have to have ansible installed, on a Mac this is:</p>
<pre><code class="lang-shell">sudo easy_install pip
sudo pip install ansible
</code></pre>
<p>Ansible is written in python. Its commands are run in sequential order, which in my experience
makes it easier to debug than Puppet - which decdides upon the order to run things in.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../../../book/project/setup/architecture/runtime-environments/index.html" class="navigation navigation-prev " aria-label="Previous page: Runtime Environments"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../../../book/project/setup/provisioning/ansible/index.html" class="navigation navigation-next " aria-label="Next page: Ansible Intro"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../../../gitbook/app.js"></script>

    
    <script src="../../../../gitbook/plugins/gitbook-plugin-jsfiddle/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"jsfiddle":{"tabs":["result","js","css","html"],"height":500,"widht":500}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
